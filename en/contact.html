<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Contact â€” BrazilTrad</title>
  <link rel="stylesheet" href="../css/style.css"/>
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
</head>
<body>
  <!-- Ticker -->
  <div style="position:sticky;top:0;z-index:9999;background:#004b5c;padding:4px 0;border-bottom:1px solid rgba(255,255,255,.15)">
    <div class="tradingview-widget-container"><div class="tradingview-widget-container__widget"></div>
      <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async
        data-config='{"symbols":[{"proName":"TVC:GOLD","title":"Gold"},{"proName":"TVC:USOIL","title":"WTI"},{"proName":"CBOT:ZS1!","title":"Soybeans"},{"proName":"CBOT:ZC1!","title":"Corn"}],"colorTheme":"dark","isTransparent":true,"displayMode":"adaptive","locale":"en"}'></script>
    </div>
  </div>

  <div class="container" style="max-width:600px;margin:60px auto;background:#fff;padding:30px 40px;border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,.08)">
    <h2 style="color:#004b5c;text-align:center;margin-bottom:25px">Contact us</h2>

    <form id="contact-form">
      <label>Full name</label>
      <input type="text" id="name" required>

      <label>E-mail</label>
      <input type="email" id="email" required>

      <label>Subject</label>
      <input type="text" id="subject">

      <label>Message</label>
      <textarea id="message" rows="5" required></textarea>

      <button type="submit" class="button">Send message</button>
      <p id="form-status" style="text-align:center;margin-top:10px;"></p>
    </form>
  </div>

  <script>
    (function(){ emailjs.init({ publicKey:"c4B9inNGyjZO4lvDy" }); })();

    document.getElementById("contact-form").addEventListener("submit", function(e){
      e.preventDefault();
      const s = document.getElementById("form-status");
      s.textContent = "Sending..."; s.style.color="#004b5c";

      emailjs.send("service_swyd6le","template_hslmzyd_en",{
        from_name: document.getElementById("name").value,
        from_email: document.getElementById("email").value,
        subject: document.getElementById("subject").value,
        message: document.getElementById("message").value
      }).then(()=>{
        // auto-reply
        emailjs.send("service_swyd6le","template_autoreply_braziltrad_en",{
          from_name: document.getElementById("name").value,
          from_email: document.getElementById("email").value
        });
        s.textContent="Message sent successfully!"; s.style.color="green";
        document.getElementById("contact-form").reset();
      }, (err)=>{
        console.error(err); s.textContent="Error sending. Please try again."; s.style.color="red";
      });
    });
  </script>
</body>
</html>
